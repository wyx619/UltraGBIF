<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate unique collection event — generate_collection_mark • UltraGBIF</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate unique collection event — generate_collection_mark"><meta name="description" content="It creates a key to identify the physical and digital duplicates of a given collection event.
It combines the last name of primary collector with the collector number and the botanical family (family +
recordByStandardized + recordNumber_Standard) that groups the duplicates of the same unique collection event.
It also identifies new collectors to be added to the collector dictionary and that can be reused in the future.
Include recordedByStandardized field with verified last name of the primary collector.
Include recordNumber_Standard field with only numbers from recordNumber.
Create the collection event key to group duplicates in the key_family_recordedBy_recordNumber field
following the fields:
family + recordedByStandardized + recordNumber_Standard."><meta property="og:description" content="It creates a key to identify the physical and digital duplicates of a given collection event.
It combines the last name of primary collector with the collector number and the botanical family (family +
recordByStandardized + recordNumber_Standard) that groups the duplicates of the same unique collection event.
It also identifies new collectors to be added to the collector dictionary and that can be reused in the future.
Include recordedByStandardized field with verified last name of the primary collector.
Include recordNumber_Standard field with only numbers from recordNumber.
Create the collection event key to group duplicates in the key_family_recordedBy_recordNumber field
following the fields:
family + recordedByStandardized + recordNumber_Standard."><meta property="og:image" content="https://wyx619.github.io/UltraGBIF/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">UltraGBIF</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Tutorial_of_UltraGBIF.html">Tutorial of UltraGBIF</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wyx619/UltraGBIF/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generate unique collection event</h1>
      <small class="dont-index">Source: <a href="https://github.com/wyx619/UltraGBIF/blob/HEAD/R/generate_collection_mark.R" class="external-link"><code>R/generate_collection_mark.R</code></a></small>
      <div class="d-none name"><code>generate_collection_mark.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>It creates a key to identify the physical and digital duplicates of a given collection event.
It combines the last name of primary collector with the collector number and the botanical family (family +
recordByStandardized + recordNumber_Standard) that groups the duplicates of the same unique collection event.
It also identifies new collectors to be added to the collector dictionary and that can be reused in the future.</p>
<p>Include <strong><code>recordedByStandardized</code></strong> field with verified last name of the primary collector.</p>
<p>Include <strong><code>recordNumber_Standard</code></strong> field with only numbers from <strong><code>recordNumber</code></strong>.</p>
<p>Create the collection event key to group duplicates in the <strong><code>key_family_recordedBy_recordNumber</code></strong> field
following the fields:</p>
<p><strong><code>family</code> + <code>recordedByStandardized</code> + <code>recordNumber_Standard</code></strong>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">generate_collection_mark</span><span class="op">(</span>occ_import <span class="op">=</span> <span class="cn">NA</span>, dictionary <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-occ-import">occ_import<a class="anchor" aria-label="anchor" href="#arg-occ-import"></a></dt>
<dd><p>imported GBIF records</p></dd>


<dt id="arg-dictionary">dictionary<a class="anchor" aria-label="anchor" href="#arg-dictionary"></a></dt>
<dd><p>your processed dictionary from <code>prepare_collectors_dictionary</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with duration and 3 data.table:
"occ_collectorsDictionary" for update result fields only, "summary" for summary and
"CollectorsDictionary_add" for new collectors that can be added to the collector dictionary
that can be reused in the future.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Fields created for each incident record:</p>
<p><code>nameRecordedBy_Standard</code></p>
<p><code>recordNumber_Standard</code></p>
<p><code>key_family_recordedBy_recordNumber</code></p>
<p><code>key_year_recordedBy_recordNumber</code></p>
<p>#' A critical step in parsing duplicate records involves generating a robust key for each unique collecting
event (i.e., <em>gathering</em>) to facilitate duplicate recognition. To achieve this, a string is created by
concatenating the <strong>taxon family</strong>, the <strong>last name of the primary collector</strong>, and the <strong>collection number</strong>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span><span class="va">generate_collection_mark</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Rendering development documentation for <span style="color: #0000BB;">"generate_collection_mark"</span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anonymous.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

