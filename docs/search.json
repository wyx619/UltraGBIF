[{"path":"https://wyx619.github.io/UltraGBIF/articles/Tutorial_of_UltraGBIF.html","id":"description","dir":"Articles","previous_headings":"","what":"Description","title":"Tutorial of UltraGBIF","text":"Tutorial parses merges Saxifraga occurrence records GBIF.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/articles/Tutorial_of_UltraGBIF.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Tutorial of UltraGBIF","text":"can install UltraGBIF GitHub. UltraGBIF runs rWCVPdata, install firstly (recommend rWCVPdata version 0.6.0 WCVP version 14), initial installation takes time.","code":"options(repos = c(getOption(\"repos\"),\"https://wyx619.github.io/Repo\")) options(timeout = 600) install.packages(\"rWCVPdata\") ## install rWCVPdata [require long time] install.packages(\"UltraGBIF\") ## install UltraGBIF"},{"path":"https://wyx619.github.io/UltraGBIF/articles/Tutorial_of_UltraGBIF.html","id":"import-records","dir":"Articles","previous_headings":"","what":"Import records","title":"Tutorial of UltraGBIF","text":"Initially, download occurrence records GBIF. Filter records online Basis record = Preserved specimen, Occurrence status = present, Scientific name = Saxifraga. Get DwC-file remember absolute path. module also utilizes EnumOccurrence Issue values transform issues structured format, enabling systematic quality assessment individualized issue tracking standardized classification. See details . occ_import includes occ initial occurrence records, occ_gbif_issue GBIF issues summary, time cost.","code":"library(UltraGBIF) gbif_occurrence_file <- \"path/to/the/DwC-A file\" occ_import <- import_records(GBIF_file = gbif_occurrence_file,                              only_PRESERVED_SPECIMEN = T)"},{"path":"https://wyx619.github.io/UltraGBIF/articles/Tutorial_of_UltraGBIF.html","id":"check-taxon-name","dir":"Articles","previous_headings":"","what":"Check taxon name","title":"Tutorial of UltraGBIF","text":"UltraGBIF uses WCVP(Govaerts et al. 2021) high-authority taxonomic backbone, systematically resolving taxons GBIF occurrence records. Alternatively, TNRS(Boyle et al. 2013) supported setting parameter local_taxon_resolution = FALSE. optimize computational efficiency, module supports parallelization multi-threading specifying desired concurrency level via threads parameter. names.checked includes occ_wcvp_check_name records resolved taxons summary, time cost.","code":"names.checked <- check_occ_name(occ_import = occ_import,                                 threads = 4,                                 local_taxon_resolution = TRUE,                                 if_author_fails_try_without_combinations = TRUE)"},{"path":"https://wyx619.github.io/UltraGBIF/articles/Tutorial_of_UltraGBIF.html","id":"check-collectors-dictionary","dir":"Articles","previous_headings":"","what":"Check collectors dictionary","title":"Tutorial of UltraGBIF","text":"module extracts primary collector’s surname recordedBy field occurrence records generates association list linking standardized surnames corresponding records. assists resolve collector identity ambiguities enforce nomenclatural consistency. Referred CollectorDictionary module comes ParseGBIF(De Melo et al. 2024). dictionary includes my_dictionary checked collectors name ref_dictionary referred dictionary, time cost.","code":"dictionary <- prepare_collectors_dictionary(occ_import = occ_import,                                             surname_selection_type = \"largest_string\",                                             max_words_name = 6,                                             min_characters_in_name = 2)"},{"path":"https://wyx619.github.io/UltraGBIF/articles/Tutorial_of_UltraGBIF.html","id":"generate-unique-collection-mark","dir":"Articles","previous_headings":"","what":"Generate unique collection mark","title":"Tutorial of UltraGBIF","text":"resolve duplicate records biodiversity datasets, UltraGBIF generates standardized composite key unique collection event like ParseGBIF(De Melo et al. 2024) . key constructed concatenating three core metadata fields: Plant family (family) Standardized collector surname (recordedByStandardized) Numeric-collection number (recordNumber_Standard) resulting identifier, key_family_recordedBy_recordNumber, groups specimens sharing identical collection events. optional temporal variant, key_year_recordedBy_recordNumber, incorporates collection year available enhance resolution. Standardization ensures robust matching: non-numeric characters stripped collection numbers, collector names normalized using predefined dictionaries reconcile spelling variants. module addresses two key challenges: Disambiguating common collector surnames taxonomic context. Enabling automated duplicate detection without reliance often-missing temporal metadata. collection_key includes occ_collectorsDictionary input records updated standardized fields generated keys CollectorsDictionary_add newly encountered collectors dictionary expansion reuseand time costs.","code":"collection_key <- generate_collection_mark(occ_import = occ_import,                                             dictionary = dictionary)"},{"path":"https://wyx619.github.io/UltraGBIF/articles/Tutorial_of_UltraGBIF.html","id":"set-digital-voucher","dir":"Articles","previous_headings":"","what":"Set digital voucher","title":"Tutorial of UltraGBIF","text":"Following generation unique collection event identifier (collection_key), module resolves duplicate records outlines selection master digital voucher associated integration represent event. Duplicate Grouping Voucher Selection records possessing complete collection event keys, duplicates identified grouped based identical collection_key values. Within group, master digital voucher selected evaluating composite score combines two dimensions: metadata completeness geospatial reliability. Metadata completeness quantified sum binary presence indicators across 10 fields, including recordedBy, locality, catalogNumber, presence scored 1 absence 0. Geospatial reliability assigned according GBIF’s EnumOccurrenceIssue classification, values −1 indicating unaffected coordinates, −3 indicating potential positional error, −9 indicating coordinates unsuitable spatial analysis. record achieving highest combined score designated master voucher. missing metadata master record supplemented using non-redundant values drawn records within group. records incomplete keys (e.g., missing recordedBy recordNumber), grouping performed, treated singleton event. Nevertheless, metadata completeness geospatial scores computed identically ensure consistent, system-wide data quality assessment. Taxonomic Assignment groupable events, accepted taxon name (UltraGBIF_sample_taxon_name) assigned frequently occurring species- subspecies-level identification among duplicates; ties resolved alphabetically. Unidentified events flagged (UltraGBIF_unidentified_sample = TRUE). Non-groupable records processed individually identical taxonomic logic. Geospatial Integration master voucher unusable coordinates (score = -9) lacks coordinates entirely, usable coordinates duplicates (score ≥ -3) preferentially retained. Standardized Output Fields Key output variables include: UltraGBIF_digital_voucher: identifies master record (logical); UltraGBIF_duplicates: presence duplicates (logical); UltraGBIF_num_duplicates: count grouped records; UltraGBIF_non_groupable_duplicates: records incomplete keys (logical); UltraGBIF_duplicates_grouping_status: grouping feasibility (e.e., “groupable”, “groupable: recordedBy”); UltraGBIF_sample_taxon_name_status: taxonomic resolution (“identified”, “divergent”, “identified”); UltraGBIF_useful_for_spatial_analysis: coordinate usability (logical). module ensures robust duplicate resolution, metadata enrichment, interoperability global biodiversity standards. voucher includes full flagged digital voucher occurrence records summary, time cost.","code":"voucher <- set_digital_voucher(occ_import = occ_import,                                names.checked = names.checked,                                collection_key = collection_key)"},{"path":"https://wyx619.github.io/UltraGBIF/articles/Tutorial_of_UltraGBIF.html","id":"refine-records","dir":"Articles","previous_headings":"","what":"Refine records","title":"Tutorial of UltraGBIF","text":"voucher flagged usable, missing information fields restored consolidating data duplicate records belonging identical collection events, creating one clean record per unique event, whether event key complete . picks common species-level name (using alphabetical order break ties) labels event “unidentified” name exists; incomplete keys treated separate events. Missing coordinates main record filled duplicates. finally complete usable vouchers, associated occurrence records automatically subjected geospatial validation precise WGSRPD attribution. Leveraging R packages CoordinateCleaner(Zizka et al. 2019) terra, module efficiently performs coordinate validation cleaning, targeting common geospatial anomalies misassigned capitals, geographic centroids, duplicate coordinates, GBIF headquarters artifacts, institution-proximate records, distributional outliers, marine points terrestrial datasets, zero/placeholder coordinates. validated record matched corresponding WGSRPD level-3 Botanical Country classifications different status (native/introduced/extinct/location_doubtful), minimizes mis-classification risks cross-regional analyses. optimize computational efficiency, module supports parallelization multi-threading specifying desired concurrency level via threads parameter. refine includes all_records cleaned records native_records native , time costs. set save_path, all_records native_records exported, named usable_refined_records.csv.gz native_refined_records.csv.gz, potentially meritorious future research.","code":"refine <- refine_records(voucher = voucher,                             threads = 4,                             save_path = dirname (gbif_occurrence_file),                             tests = c(\"capitals\", \"centroids\", \"equal\", \"gbif\", \"institutions\", \"outliers\", \"seas\",\"zeros\"))"},{"path":"https://wyx619.github.io/UltraGBIF/articles/Tutorial_of_UltraGBIF.html","id":"map-records","dir":"Articles","previous_headings":"","what":"Map records","title":"Tutorial of UltraGBIF","text":"module implemented optionally, rendering output coordinate_refine, employing geohashTools(Chirico 2023) perform spatial clustering geo-coordinates. precision parameter determines grid resolution (e.g. 4 20 km×20 km grids, 3 156 km×156 km grids). groups records UltraGBIF_wcvp_taxon_name, WGSRPD information geohash grid follows deduplication. simplification, dynamic maps different layers rendered mapview(Appelhans et al. 2023) WGSRPD information legend. Symbol size controlled cex parameter. Moreover, supports zoom functionality spatial resolution adjustment enables interactive selection individual coordinates display full attributes.","code":"map_records(records_refined = refine,                      precision = 4,                       cex = 4)"},{"path":[]},{"path":"https://wyx619.github.io/UltraGBIF/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Yuxuan Wang. Author, maintainer.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wang Y (2026). UltraGBIF: ultra-fast user-friendly R package compiling quality filtered plant occurrence records GBIF. R package version 3.0.7, https://github.com/wyx619/UltraGBIF.","code":"@Manual{,   title = {UltraGBIF: An ultra-fast and user-friendly R package for compiling quality filtered plant occurrence records from GBIF},   author = {Yuxuan Wang},   year = {2026},   note = {R package version 3.0.7},   url = {https://github.com/wyx619/UltraGBIF}, }"},{"path":[]},{"path":"https://wyx619.github.io/UltraGBIF/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"An ultra-fast and user-friendly R package for compiling quality filtered plant occurrence records from GBIF","text":"Mapping plant distributions fundamental understanding biodiversity patterns, accurate distribution data information necessary researching plant diversity. Global Biodiversity Information Facility, known GBIF, large repository plant occurrence records worldwide. fueled 18,200 peer-reviewed journal articles, ecology (3,769 researches), climate change (2,953), conservation (1,915), invasive species management (1,840) August 2025, supporting global policy frameworks like Kunming-Montreal Global Biodiversity Framework. Researchers using GBIF occurrence records usually rely suite packages scrips, consuming lots runtime, rgbif, TNRS, CoordinateCleaner, bdc, plantR, NSR GVS help deal GBIF occurrence records. Moreover, million records datasets, current methods incur substantial computational overhead manual chaining disparate packages, necessitating high-performance infrastructure despite advancing computational capabilities. rectify situation, introduce UltraGBIF, efficient R package unifies taxonomic resolution, spatial validation, duplicate consolidation, botanical region annotation within high-performance framework. optimized C/C++ backend intelligent parallelization enable compiling one million GBIF occurrence records laptop within 15 minutes. word, UltraGBIF resolves challenges reproducibility, scalability, spatial-taxonomic integrity without increasing adoption barriers biodiversity researchers.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/index.html","id":"workflow","dir":"","previous_headings":"","what":"Workflow","title":"An ultra-fast and user-friendly R package for compiling quality filtered plant occurrence records from GBIF","text":"Three main stages seven modules UltraGBIF. stages, generally 35% initial occurrence records retained. UltraGBIF provides reproducible, plant-optimized, computationally efficient framework transforming raw GBIF occurrence records analysis-ready datasets. package functions categorized three main stages seven distinct modules. Stage 1: Data Acquisition stage ensures data accuracy consistency three modules: Import Data: module receives user-provided Darwin Core Archive adheres GBIF data conventions. DwC-loaded locally (e.g., occurrences.csv/zip) extensions described meta.xml. GBIF-reported issue flags automatically extracted downstream quality assessment. Check Taxon Name: module implements taxonomic name standardization resolve validate plant names. User may select World Checklist Vascular Plants (WCVP; Govaerts et al., 2021) Taxonomic Name Resolution Service (TNRS, Boyle et al. 2013). step unifies synonyms corrects misspellings. Check Collector Name: module standardizes collector names reduce inconsistencies (e.g., “Smith, J.” versus “J. Smith”) can fragment single collection events. preparing standardized dictionary primary collector surnames, step reduces identification errors 80% improves accuracy subsequent duplication checks. Stage 2: Duplicate Removal Reliability Filtering stage improves data reliability identifying high-quality, non-redundant occurrence records. Generate Unique Collection Mark: module identifies consolidates duplicates unique collection events. collection event represents distinct sampling instance (specific collector specific time place). Set Digital Voucher: duplicate entries sharing collection mark, record highest metadata quality retained “digital voucher.” approach preserves geographically informative data minimizing redundancy, thereby improving spatially reliability. Stage 3: Refine Records final stage restores key information, enhances geospatial accuracy, enables visualization. Refine records: module validates spatial information restores detailed metadata usable vouchers. performs automated coordinate validation using CoordinateCleaner (Zizka et al., 2019) flag spatial errors (e.g., centroids, capitals, institutions). also extracts information WCVP annotate records ‘native’, ‘introduced’, ‘doubtful’. optional occTest package (Serra-Diaz et al., 2024) also compatible advanced quality control checks. Map records: optional visualization module renders verified records onto customizable, dynamic maps, providing intuitive interface viewing spatial distributions data density. Focused exclusively GBIF plant occurrence records, UltraGBIF able clean one million records within 15 minutes laptop, representing 60% memory reduction. word, UltraGBIF integrates components unified, automated workflow enhances data standardization, accuracy, usability, enables robust, reproducible, scalable compiling GBIF occurrence records advanced biodiversity research. UltraGBIF development. encounter bugs, please feel free submit issue. feedback greatly appreciated!","code":""},{"path":"https://wyx619.github.io/UltraGBIF/index.html","id":"initial-installation","dir":"","previous_headings":"","what":"Initial Installation","title":"An ultra-fast and user-friendly R package for compiling quality filtered plant occurrence records from GBIF","text":"can install UltraGBIF GitHub. UltraGBIF runs rWCVPdata, install firstly (recommend rWCVPdata version 0.6.0 WCVP version 14), initial installation takes time.","code":"options(repos = c(getOption(\"repos\"),\"https://wyx619.github.io/Repo\")) options(timeout = 600) install.packages(\"rWCVPdata\") ## install rWCVPdata [require long time] install.packages(\"UltraGBIF\") ## install UltraGBIF"},{"path":"https://wyx619.github.io/UltraGBIF/index.html","id":"tutorial-of-ultragbif","dir":"","previous_headings":"","what":"Tutorial of UltraGBIF","title":"An ultra-fast and user-friendly R package for compiling quality filtered plant occurrence records from GBIF","text":"Tutorial.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/index.html","id":"reference","dir":"","previous_headings":"","what":"Reference","title":"An ultra-fast and user-friendly R package for compiling quality filtered plant occurrence records from GBIF","text":"Boyle, Brad, Nicole Hopkins, Zhenyuan Lu, Juan Antonio Raygoza Garay, Dmitry Mozzherin, Tony Rees, Naim Matasci, et al. 2013. “Taxonomic Name Resolution Service: Online Tool Automated Standardization Plant Names.” BMC Bioinformatics 14 (1): 16. https://doi.org/10.1186/1471-2105-14-16. De Melo, Pablo Hendrigo Alves, Nadia Bystriakova, Eve Lucas, Alexandre K. Monro. 2024. “New R Package Parse Plant Species Occurrence Records Unique Collection Events Efficiently Reduces Data Redundancy.” Scientific Reports 14 (1): 5450. https://doi.org/10.1038/s41598-024-56158-3. Govaerts, Rafaël, Eimear Nic Lughadha, Nicholas Black, Robert Turner, Alan Paton. 2021. “World Checklist Vascular Plants, Continuously Updated Resource Exploring Global Plant Diversity.” Scientific Data 8 (1): 215. https://doi.org/10.1038/s41597-021-00997-6. Maitner, Brian, Brad Boyle. 2024. “TNRS: Taxonomic Name Resolution Service.” https://CRAN.R-project.org/package=TNRS. Zizka, Alexander, Daniele Silvestro, Tobias Andermann, Josué Azevedo, Camila Duarte Ritter, Daniel Edler, Harith Farooq, et al. 2019. “CoordinateCleaner : Standardized Cleaning Occurrence Records Biological Collection Databases.” Edited Tiago Quental. Methods Ecology Evolution 10 (5): 744–51. https://doi.org/10.1111/2041-210X.13152.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/check_occ_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Use local or online taxon resolution service to check accepted taxon names and update synonyms at once — check_occ_name","title":"Use local or online taxon resolution service to check accepted taxon names and update synonyms at once — check_occ_name","text":"Names species can checked WCVP database. verify individual names, function wcvp_check_name used.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/check_occ_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use local or online taxon resolution service to check accepted taxon names and update synonyms at once — check_occ_name","text":"","code":"check_occ_name(   occ_import = NA,   local_taxon_resolution = TRUE,   threads = 4,   if_author_fails_try_without_combinations = TRUE )"},{"path":"https://wyx619.github.io/UltraGBIF/reference/check_occ_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use local or online taxon resolution service to check accepted taxon names and update synonyms at once — check_occ_name","text":"occ_import imported GBIF records local_taxon_resolution TRUE, resolve taxon names locally. Otherwise automatically use Taxonomic Name Resolution Service(TNRS) instead threads threads requirement, positive real number, default 4 if_author_fails_try_without_combinations option partial verification authorship species. Remove authors combinations, parentheses","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/check_occ_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Use local or online taxon resolution service to check accepted taxon names and update synonyms at once — check_occ_name","text":"list duration two data.table: \"summary\" species list \"occ_wcvp_check_name\" WCVP fields","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/check_occ_name.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Use local or online taxon resolution service to check accepted taxon names and update synonyms at once — check_occ_name","text":"WCVP database World Checklist Vascular Plants rWCVPdata","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/EnumOccurrenceIssue.html","id":null,"dir":"Reference","previous_headings":"","what":"Enumeration GBIF issue An enumeration of validation rules for single occurrence records. — EnumOccurrenceIssue","title":"Enumeration GBIF issue An enumeration of validation rules for single occurrence records. — EnumOccurrenceIssue","text":"many things can go wrong continously encounter unexpected data. order help us publishers improve data, flag records various issues encountered. also useful data consumers can include issues filters occurrence searches. issues indicate bad data. merley flagging fact GBIF altered values processing. details page occurrence record see list issues notice bottom.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/EnumOccurrenceIssue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enumeration GBIF issue An enumeration of validation rules for single occurrence records. — EnumOccurrenceIssue","text":"","code":"EnumOccurrenceIssue"},{"path":"https://wyx619.github.io/UltraGBIF/reference/EnumOccurrenceIssue.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Enumeration GBIF issue An enumeration of validation rules for single occurrence records. — EnumOccurrenceIssue","text":"data.table 69 rows 9 columns constant GBIF issue constant description GBIF issue description definition definition classifying geographic issues type Type issue priority Impact issue use geospatial information score Impact, number, issue use geospatial information selection_score Value used calculate quality geospatial information according classification issue reasoning Reasoning impact theme use geospatial information notes Notes","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/EnumOccurrenceIssue.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Enumeration GBIF issue An enumeration of validation rules for single occurrence records. — EnumOccurrenceIssue","text":"GBIF Infrastructure: Data processing enumeration validation rules single occurrence records","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/generate_collection_mark.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate unique collection event — generate_collection_mark","title":"Generate unique collection event — generate_collection_mark","text":"creates key identify physical digital duplicates given collection event. combines last name primary collector collector number botanical family (family + recordByStandardized + recordNumber_Standard) groups duplicates unique collection event. also identifies new collectors added collector dictionary can reused future. Include recordedByStandardized field verified last name primary collector. Include recordNumber_Standard field numbers recordNumber. Create collection event key group duplicates key_family_recordedBy_recordNumber field following fields: family + recordedByStandardized + recordNumber_Standard.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/generate_collection_mark.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate unique collection event — generate_collection_mark","text":"","code":"generate_collection_mark(occ_import = NA, dictionary = NA)"},{"path":"https://wyx619.github.io/UltraGBIF/reference/generate_collection_mark.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate unique collection event — generate_collection_mark","text":"occ_import imported GBIF records dictionary processed dictionary prepare_collectors_dictionary","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/generate_collection_mark.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate unique collection event — generate_collection_mark","text":"list duration 3 data.table: \"occ_collectorsDictionary\" update result fields , \"summary\" summary \"CollectorsDictionary_add\" new collectors can added collector dictionary can reused future.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/generate_collection_mark.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate unique collection event — generate_collection_mark","text":"Fields created incident record: nameRecordedBy_Standard recordNumber_Standard key_family_recordedBy_recordNumber key_year_recordedBy_recordNumber #' critical step parsing duplicate records involves generating robust key unique collecting event (.e., gathering) facilitate duplicate recognition. achieve , string created concatenating taxon family, last name primary collector, collection number.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/generate_collection_mark.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate unique collection event — generate_collection_mark","text":"","code":"# \\donttest{ help(generate_collection_mark) #> ℹ Rendering development documentation for \"generate_collection_mark\" # }"},{"path":"https://wyx619.github.io/UltraGBIF/reference/get_collectors_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract last name of the main collector (internal) — get_collectors_name","title":"Extract last name of the main collector (internal) — get_collectors_name","text":"Extract last name main collector recordedBy field","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/get_collectors_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract last name of the main collector (internal) — get_collectors_name","text":"","code":"get_collectors_name(   x = NA,   surname_selection_type = \"largest_string\",   max_words_name = 6,   min_characters_in_name = 2 )"},{"path":"https://wyx619.github.io/UltraGBIF/reference/get_collectors_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract last name of the main collector (internal) — get_collectors_name","text":"x collectors_name recordedBy field surname_selection_type allows select two types results main collector's last name: large_string = word largest number characters. last_name = literally last name main collector, two characters. max_words_name assist checking length name min_characters_in_name min characters name","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/get_collectors_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract last name of the main collector (internal) — get_collectors_name","text":"last name main collector","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/get_collectors_name.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract last name of the main collector (internal) — get_collectors_name","text":"Returns last name","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/import_records.html","id":null,"dir":"Reference","previous_headings":"","what":"Import GBIF occurrence records — import_records","title":"Import GBIF occurrence records — import_records","text":"Returns list contains processed GBIF records useful issues downstream analysis.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/import_records.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import GBIF occurrence records — import_records","text":"","code":"import_records(GBIF_file = \"\", only_PRESERVED_SPECIMEN = F)"},{"path":"https://wyx619.github.io/UltraGBIF/reference/import_records.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import GBIF occurrence records — import_records","text":"GBIF_file GBIF occurrence Darwin Core Archive. See details information only_PRESERVED_SPECIMEN TRUE, occurrence records filtered basisOfRecord=\"PRESERVED_SPECIMEN\"","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/import_records.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import GBIF occurrence records — import_records","text":"list duration 3 data.table: \"occ\" processed occurrence data,\"occ_gbif_issue\" checked GBIF issues \"summary\" import summary.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/import_records.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Import GBIF occurrence records — import_records","text":"GBIF_file path Darwin Core standard file downloaded GBIF. Darwin Core Archive (DwC-) compact package (ZIP file) contains interconnected text files enables data publishers share data using common terminology. GBIF_file also path \"occurrence.txt\" decompressed Darwin Core standard file.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/import_records.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import GBIF occurrence records — import_records","text":"","code":"# \\donttest{  help(import_records) #> ℹ Rendering development documentation for \"import_records\"   # }"},{"path":"https://wyx619.github.io/UltraGBIF/reference/map_records.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize refined records on a dynamic interactive map — map_records","title":"Visualize refined records on a dynamic interactive map — map_records","text":"optional module simplifies renders refined GBIF occurrence records dynamic maps","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/map_records.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize refined records on a dynamic interactive map — map_records","text":"","code":"map_records(records_refined = NA, precision = 4, cex = 4)"},{"path":"https://wyx619.github.io/UltraGBIF/reference/map_records.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize refined records on a dynamic interactive map — map_records","text":"records_refined refined occurrence list coordinate_refine precision positive integer scalar controlling density refined GBIF occurrence records dynamic maps. (.e. 4 20 km, 3 156 km, 2 1250 km.) Default 4 cex point size refined GBIF occurrence records rendering dynamic maps. Default 4","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/map_records.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize refined records on a dynamic interactive map — map_records","text":"dynamic interactive map wcvp_area_status legend. Note map 3 different layers choose show.","code":""},{"path":[]},{"path":"https://wyx619.github.io/UltraGBIF/reference/map_records.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize refined records on a dynamic interactive map — map_records","text":"","code":"# \\donttest{ help(map_refined_records) #> No documentation for ‘map_refined_records’ in specified packages and libraries: #> you could try ‘??map_refined_records’ # }"},{"path":"https://wyx619.github.io/UltraGBIF/reference/prepare_collectors_dictionary.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare a list with surname of the main collector — prepare_collectors_dictionary","title":"Prepare a list with surname of the main collector — prepare_collectors_dictionary","text":"returns list last name main collector following unique key recordedBy. Consistent recording primary collectors last name thus essential, collector dictionary provided purpose. prepare_collectors_dictionary function utilized extract last name primary collector recordedBy field compile list linking last name primary collector raw data recordedBy advisable verify last name primary collector nameRecordedBy_Standard field. objective standardize last name primary collector, automatically derived recordedBy field. accomplished standardizing text string begin uppercase character replacing non-ASCII characters, ensuring primary collector associated collection event consistently represented character string. processed, dictionary can checked future.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/prepare_collectors_dictionary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare a list with surname of the main collector — prepare_collectors_dictionary","text":"","code":"prepare_collectors_dictionary(   occ_import = NA,   surname_selection_type = \"largest_string\",   max_words_name = 6,   min_characters_in_name = 4 )"},{"path":"https://wyx619.github.io/UltraGBIF/reference/prepare_collectors_dictionary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare a list with surname of the main collector — prepare_collectors_dictionary","text":"occ_import imported GBIF records surname_selection_type allows select two types last name: large_string = word largest number characters. last_name = literally last name main collector, two characters. max_words_name assist checking length name min_characters_in_name min characters name","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/prepare_collectors_dictionary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare a list with surname of the main collector — prepare_collectors_dictionary","text":"list duration 2 data.table: \"my_dictionary\" processed collectors dictionary \"ref_dictionary\" collectors name reference dictionary","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/prepare_collectors_dictionary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare a list with surname of the main collector — prepare_collectors_dictionary","text":"recordedBy present ref_dictionary, function returns last name primary collector associated specific recordedBy key. Otherwise, returns last name primary collector, extracted recordedBy field. recommended curate last name primary collector, automatically derived recordedBy field. goal standardize last name primary collector. primary botanical collector sample consistently identified last name, standardized capital letters non-ASCII characters replaced.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/prepare_collectors_dictionary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare a list with surname of the main collector — prepare_collectors_dictionary","text":"","code":"# \\donttest{ help(collectors_prepare_dictionary) #> No documentation for ‘collectors_prepare_dictionary’ in specified packages and libraries: #> you could try ‘??collectors_prepare_dictionary’ # }"},{"path":"https://wyx619.github.io/UltraGBIF/reference/refine_records.html","id":null,"dir":"Reference","previous_headings":"","what":"Restore duplicate records from voucher, validate coordinates and extract their World Geographical Scheme for Recording Plant Distributions — refine_records","title":"Restore duplicate records from voucher, validate coordinates and extract their World Geographical Scheme for Recording Plant Distributions — refine_records","text":"Restore key usable information vouchers consolidating data duplicate records belonging identical collection events, validate coordinates extract World Geographical Scheme Recording Plant Distributions.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/refine_records.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Restore duplicate records from voucher, validate coordinates and extract their World Geographical Scheme for Recording Plant Distributions — refine_records","text":"","code":"refine_records(   voucher = NA,   threads = 4,   save_path = NA,   tests = c(\"capitals\", \"centroids\", \"equal\", \"gbif\", \"institutions\", \"outliers\", \"seas\",     \"zeros\") )"},{"path":"https://wyx619.github.io/UltraGBIF/reference/refine_records.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Restore duplicate records from voucher, validate coordinates and extract their World Geographical Scheme for Recording Plant Distributions — refine_records","text":"voucher voucher set_digital_voucher threads threads requirement, positive real number, default 4 save_path local path want save final result tests CoordinateCleaner checks. Choose one c(\"capitals\",\"centroids\",\"equal\",\"gbif\",\"institutions\",\"outliers\",\"seas\",\"zeros\")","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/refine_records.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Restore duplicate records from voucher, validate coordinates and extract their World Geographical Scheme for Recording Plant Distributions — refine_records","text":"list duration 2 data.table: all_records refined records, native_records native records .","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/refine_records.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Restore duplicate records from voucher, validate coordinates and extract their World Geographical Scheme for Recording Plant Distributions — refine_records","text":"can restore key usable information vouchers consolidating data duplicate records belonging identical collection events, validate coordinates extract World Geographical Scheme Recording Plant Distributions information","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/refine_records.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Restore duplicate records from voucher, validate coordinates and extract their World Geographical Scheme for Recording Plant Distributions — refine_records","text":"","code":"# \\donttest{ help(refine_records) #> ℹ Rendering development documentation for \"refine_records\" # }"},{"path":"https://wyx619.github.io/UltraGBIF/reference/ref_dictionary.html","id":null,"dir":"Reference","previous_headings":"","what":"ref_dictionary — ref_dictionary","title":"ref_dictionary — ref_dictionary","text":"ref_dictionary","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/ref_dictionary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ref_dictionary — ref_dictionary","text":"","code":"ref_dictionary"},{"path":"https://wyx619.github.io/UltraGBIF/reference/ref_dictionary.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ref_dictionary — ref_dictionary","text":"data.table 115702 rows 2 columns Ctrl_recordedBy original collectors name Ctrl_nameRecordedBy_Standard processed collectors name","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/ref_dictionary.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"ref_dictionary — ref_dictionary","text":"collectorDictionary","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/seas_ref.html","id":null,"dir":"Reference","previous_headings":"","what":"seas_ref — seas_ref","title":"seas_ref — seas_ref","text":"seas_ref","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/seas_ref.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"seas_ref — seas_ref","text":"","code":"seas_ref"},{"path":"https://wyx619.github.io/UltraGBIF/reference/seas_ref.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"seas_ref — seas_ref","text":"simple features object featurecla Land area geometry Geometry unit","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/seas_ref.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"seas_ref — seas_ref","text":"rnaturalearth::ne_download(scale = 110,type = 'land',category = 'physical',returnclass = \"sf\")","code":""},{"path":[]},{"path":[]},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"-handling-complete-collection-event-keys","dir":"Reference","previous_headings":"","what":"1. Handling Complete Collection Event Keys","title":"Set master digital voucher — set_digital_voucher","text":"Unique collection events often generate multiple duplicate GBIF records. One duplicate designated master digital voucher, integrating data duplicates. collection event key complete, duplicates grouped parsed based record completeness geospatial quality: Record Completeness : Assessed using data-quality scores fields: recordedBy, recordNumber, year, institutionCode, catalogNumber, locality, municipality, countryCode, stateProvince, fieldNotes. Geospatial Quality : Ranked via score derived geospatial issues EnumOccurrenceIssue (GBIF table). duplicate highest total score (sum record completeness + geospatial quality) assigned master voucher. Missing data duplicates merged voucher.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"-handling-incomplete-collection-event-keys","dir":"Reference","previous_headings":"","what":"2. Handling Incomplete Collection Event Keys","title":"Set master digital voucher — set_digital_voucher","text":"collection event key incomplete, duplicates parsed. record treated unique collection event, duplicates identified. Record completeness geospatial quality still evaluated described assess data integrity.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"-quality-score-calculation","dir":"Reference","previous_headings":"","what":"3. Quality Score Calculation","title":"Set master digital voucher — set_digital_voucher","text":"UltraGBIF_digital_voucher : duplicate highest total score, calculated ","code":""},{"path":[]},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"-record-completeness-calculation","dir":"Reference","previous_headings":"","what":"4. Record Completeness Calculation","title":"Set master digital voucher — set_digital_voucher","text":"Measured sum binary flags (TRUE = 1, FALSE = 0) following fields: recordedBy present? recordNumber present? year present? institutionCode present? catalogNumber present? locality present? municipality present? countryCode present? stateProvince present? fieldNotes present?","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"-geospatial-quality-calculation","dir":"Reference","previous_headings":"","what":"5. Geospatial Quality Calculation","title":"Set master digital voucher — set_digital_voucher","text":"Based GBIF geospatial issues EnumOccurrenceIssue, classified three categories: Impact : Issues affecting coordinate accuracy (selection_score = -1). Potential Impact : Issues may affect coordinate accuracy (selection_score = -3). Exclusion : Records severe issues (selection_score = -9) excluded. optimized version eliminates O(n²) complexity using vectorized data.table operations.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set master digital voucher — set_digital_voucher","text":"","code":"set_digital_voucher(occ_import = NA, names.checked = NA, collection_key = NA)"},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set master digital voucher — set_digital_voucher","text":"occ_import imported GBIF records names.checked checked taxon names check_occ_name collection_key collection mark generate_collection_mark","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set master digital voucher — set_digital_voucher","text":"list duration 2 data.table: \"occ_digital_voucher\" data processing fields \"occ_results\" result fields.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set master digital voucher — set_digital_voucher","text":"UltraGBIF_duplicates_grouping_status : groupable: Complete key, duplicates parsed. groupable: recordedBy recordNumber: Missing fields. groupable: recordNumber: Missing recordNumber. groupable: recordedBy: Missing recordedBy. UltraGBIF_num_duplicates: Integer count duplicate records. UltraGBIF_duplicates: TRUE duplicates exist, FALSE otherwise. UltraGBIF_non_groupable_duplicates: TRUE duplicates grouped, FALSE otherwise.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/set_digital_voucher.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set master digital voucher — set_digital_voucher","text":"","code":"# \\donttest{ help(set_digital_voucher) #> ℹ Rendering development documentation for \"set_digital_voucher\" # }"},{"path":"https://wyx619.github.io/UltraGBIF/reference/standardize_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize scientific name (internal) — standardize_name","title":"Standardize scientific name (internal) — standardize_name","text":"Standardize scientific name taxons","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/standardize_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize scientific name (internal) — standardize_name","text":"","code":"standardize_name(   searchedName = \"Lupinus polyphyllus var. pallidipes (A.Heller) C.P.Sm.\" )"},{"path":"https://wyx619.github.io/UltraGBIF/reference/standardize_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize scientific name (internal) — standardize_name","text":"searchedName name taxon want standardize","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/standardize_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize scientific name (internal) — standardize_name","text":"list species name input, standardized scientific name , taxon authors last taxon author ","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/standardize_name.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Standardize scientific name (internal) — standardize_name","text":"See help(standardize_name)","code":""},{"path":[]},{"path":"https://wyx619.github.io/UltraGBIF/reference/usecores.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect threads and optimize them (internal) — usecores","title":"Detect threads and optimize them (internal) — usecores","text":"Input positive number return optimized treads requirement.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/usecores.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect threads and optimize them (internal) — usecores","text":"","code":"usecores(x)"},{"path":"https://wyx619.github.io/UltraGBIF/reference/usecores.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect threads and optimize them (internal) — usecores","text":"x Threads requirement, positive real number, default 4","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/usecores.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect threads and optimize them (internal) — usecores","text":"positive real number treads","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/usecores.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Detect threads and optimize them (internal) — usecores","text":"positive integer input, return positive integer exceeding total number threads. non-integer positive number input, automatically calculate return reasonable number threads.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/wcvp_check_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve taxons with WCVP database (internal) — wcvp_check_name","title":"Resolve taxons with WCVP database (internal) — wcvp_check_name","text":"Use World Checklist Vascular Plants database check accepted names update synonyms.","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/wcvp_check_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve taxons with WCVP database (internal) — wcvp_check_name","text":"","code":"wcvp_check_name(   searchedName = \"Tephrosia lasiochlaena Cowie\",   wcvp_names_database = NA,   if_author_fails_try_without_combinations = TRUE )"},{"path":"https://wyx619.github.io/UltraGBIF/reference/wcvp_check_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve taxons with WCVP database (internal) — wcvp_check_name","text":"searchedName scientific name, without author wcvp_names_database processed wcvp database if_author_fails_try_without_combinations option partial verification authorship species. Remove authors combinations, parentheses","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/wcvp_check_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve taxons with WCVP database (internal) — wcvp_check_name","text":"data.table WCVP fields","code":""},{"path":"https://wyx619.github.io/UltraGBIF/reference/wcvp_check_name.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Resolve taxons with WCVP database (internal) — wcvp_check_name","text":"World Checklist Vascular Plants searchNotes field assigns values based following conditions: Accepted: single authorless scientific name exists TAXON_name list TAXON_STATUS = \"Accepted\", verified_speciesName = 100. Accepted among homonyms: multiple authorless scientific names present TAXON_name list, one homonym TAXON_STATUS = \"Accepted\", verified_speciesName = number matches / 100. Homonyms: multiple authorless scientific names appear TAXON_name list either multiple none homonyms TAXON_STATUS = \"Accepted\", verified_speciesName = number matches / 100. Prior homonym detection, attempts match authorless scientific names TAXON_name authors TAXON_AUTHORS failed, resulting verified_author = 0. Found: authorless scientific name absent TAXON_name list. Unplaced: single authorless scientific name exists TAXON_name list TAXON_STATUS = \"Unplaced\". Updated: single authorless scientific name present TAXON_name list, ACCEPTED_PLANT_NAME_ID species ID differ (.e., ACCEPTED_PLANT_NAME_ID != plant_name_id_of_searchedName), fields taxon_status_of_searchedName, plant_name_id_of_searchedName, taxon_authors_of_searchedName populated follows: searchNotes = \"Updated\": fields record data originally queried scientific name. searchNotes = \"Homonyms\": fields record data homonymous synonyms, separated \"|\". verified_author field assigned follows: 100: direct match exists authorless scientific name TAXON_name author TAXON_AUTHORS. 50: partial correspondence exists authorless scientific name TAXON_name author TAXON_AUTHORS, without combination. 0: author present TAXON_AUTHORS, irrespective correspondence authorless scientific name TAXON_name.","code":""}]
